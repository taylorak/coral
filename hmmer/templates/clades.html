{% extends "base.html" %}
{% load custom_filters %}

{% block body %}

<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <div id="flip-scroll">
            <table class="table-bordered table-condensed table-striped cf"> 
                <thead>
                    <tr>
                    <th>sample</th>
                    {% for header in all_headers %}
                    <th>{{header}}</th> 
                    {% endfor %}
                    <th><a href="{% url "dlDetailed" id %}">Detailed Count</a></th>
                </tr>
            </thead>
            <tbody>
                    {% for dir in dirs %}
                    <tr class="{% cycle '' 'altrow' %}">
                        <td>{{ dir }}</td>

                        {% for key in all_headers %}
                        <td>{{all_counts|dictvalue:dir|dictvalue:key}}%</td>
                        {% endfor %}
                        <td>
                            <a class="opener" title="{{ dir }}" rel="group1" href="{% url 'chart' id dir  %}">View Chart</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>


            <script type="text/javascript">
                $("a.opener").fancybox({
                        'type': 'ajax',
                        'autoSize': false,
                        'autoCenter': true,
                        'fitToView': true,
                        'width': 350,
                        'height': 300,
                        'helpers': {
                        'title': {
                        'type': 'outside'
                        }
                        },
                        'arrows': false,
                        'scrolling': 'no'
                        }); 
</script>
                    </div>
                </div>
            </div>
        </div>

            {% endblock %}
